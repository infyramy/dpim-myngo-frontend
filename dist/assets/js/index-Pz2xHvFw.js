import{u as M}from"./index-Cp8tB2BS.js";import{_ as h,p as j,m as L,n as z,o as H,s as b,l as O,H as W,I as p,v as q,e as E,a as G,b as J,z as K,c as P,G as Q}from"./ui-C-FEV6Jq.js";import{b as X,r as w,c as g,o as Y,e as f,f as l,g as a,w as n,h as _,u as s,bH as Z,j as x,aO as ee,bI as se,R as te,t as i,bw as y,i as k,aP as C,bJ as $,ax as V,F as ae,k as le,l as d,n as N,ai as ne,bK as oe}from"./vendor-D6Gd-AmM.js";import{_ as ie}from"./auth-DV8b8DmP.js";import"./admin-DxRhEtpx.js";import"./deps-CXbEQKqm.js";const re={class:"space-y-6"},de={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},ue={class:"bg-card rounded-lg border shadow-sm p-4 mb-4"},ce={class:"flex flex-col sm:flex-row gap-4"},me={class:"relative flex-1"},fe={class:"flex gap-2"},_e={class:"flex items-center gap-2"},pe={key:0,class:"mt-2 text-sm text-muted-foreground"},ve={class:"flex items-center gap-2"},ge={class:"flex items-center gap-2"},we={class:"relative"},xe={key:0,class:"absolute -top-1 -right-1 w-2 h-2 bg-primary rounded-full"},he={class:"flex items-center gap-2"},be={class:"flex items-center gap-2"},ye={class:"flex items-center gap-2"},ke={class:"space-y-4"},Ce={key:0,class:"p-4 text-center text-muted-foreground"},$e=["onClick"],Ve={class:"mt-1"},Ne={class:"flex-1"},Te={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-1"},Ae={class:"font-semibold"},Se={class:"text-xs text-muted-foreground"},Fe={class:"text-sm text-muted-foreground"},Ie={class:"text-xs text-muted-foreground mt-2"},Re=X({__name:"index",setup(De){const u=M(),r=w(""),c=w("all"),m=w("newest"),v=g(()=>{let o=[...u.notifications];if(c.value!=="all"&&(c.value==="unread"?o=o.filter(e=>!e.read):o=o.filter(e=>e.type===c.value)),r.value.trim()){const e=r.value.toLowerCase().trim();o=o.filter(t=>t.title.toLowerCase().includes(e)||t.message.toLowerCase().includes(e))}return m.value==="newest"?o.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()):m.value==="oldest"&&o.sort((e,t)=>e.timestamp.getTime()-t.timestamp.getTime()),o});function T(o){switch(o){case"success":return $;case"error":return oe;case"warning":return V;case"info":default:return C}}const A=g(()=>{switch(c.value){case"unread":return"Unread Notifications";case"info":return"Information Notifications";case"success":return"Success Notifications";case"warning":return"Warning Notifications";case"all":default:return"All Notifications"}}),S=g(()=>{switch(c.value){case"unread":return"View your unread notifications";case"info":return"View all informational notifications";case"success":return"View all success notifications";case"warning":return"View all warning notifications";case"all":default:return"View all of your notifications in one place"}});function F(o){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(o)}function I(o){const t=Math.floor((new Date().getTime()-o.getTime())/1e3);return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function R(o){u.markAsRead(o)}function D(){u.markAllAsRead()}function U(){r.value="",m.value="newest"}const B=g(()=>r.value.trim()!==""||m.value!=="newest");return Y(()=>{}),(o,e)=>(d(),f("div",re,[l("div",de,[e[4]||(e[4]=l("div",null,[l("h1",{class:"text-2xl sm:text-3xl font-bold text-foreground"}," Notifications "),l("p",{class:"text-muted-foreground mt-1"}," View and manage your notification history ")],-1)),a(s(h),{variant:"outline",class:"gap-2",onClick:D,disabled:s(u).unreadCount===0},{default:n(()=>[a(s(Z),{class:"h-4 w-4"}),e[3]||(e[3]=_(" Mark All as Read "))]),_:1,__:[3]},8,["disabled"])]),l("div",ue,[l("div",ce,[l("div",me,[a(s(ee),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(j),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"Search by title or message...",class:"pl-10"},null,8,["modelValue"])]),l("div",fe,[a(s(O),{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t),class:"w-[140px]"},{default:n(()=>[a(s(L),null,{default:n(()=>[l("div",_e,[a(s(se),{class:"h-4 w-4"}),a(s(z),{placeholder:"Sort by"})])]),_:1}),a(s(H),null,{default:n(()=>[a(s(b),{value:"newest"},{default:n(()=>e[5]||(e[5]=[_("Newest First")])),_:1,__:[5]}),a(s(b),{value:"oldest"},{default:n(()=>e[6]||(e[6]=[_("Oldest First")])),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"]),a(s(h),{variant:"outline",class:"gap-2",onClick:U,disabled:!B.value},{default:n(()=>[a(s(te),{class:"h-4 w-4"}),e[7]||(e[7]=l("span",{class:"hidden sm:inline"},"Reset",-1))]),_:1,__:[7]},8,["disabled"])])]),r.value?(d(),f("div",pe," Found "+i(v.value.length)+" result"+i(v.value.length!==1?"s":"")+' for "'+i(r.value)+'" ',1)):x("",!0)]),a(s(Q),{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),class:"w-full"},{default:n(()=>[a(s(W),{class:"w-full mb-4 grid grid-cols-5 sm:grid-cols-5"},{default:n(()=>[a(s(p),{value:"all"},{default:n(()=>[l("div",ve,[a(s(y),{class:"h-4 w-4"}),e[8]||(e[8]=l("span",{class:"hidden sm:inline"},"All",-1))])]),_:1}),a(s(p),{value:"unread"},{default:n(()=>[l("div",ge,[l("div",we,[a(s(y),{class:"h-4 w-4"}),s(u).unreadCount>0?(d(),f("span",xe)):x("",!0)]),e[9]||(e[9]=l("span",{class:"hidden sm:inline"},"Unread",-1)),s(u).unreadCount>0?(d(),k(s(q),{key:0,variant:"secondary",class:"ml-1 hidden sm:inline-flex"},{default:n(()=>[_(i(s(u).unreadCount),1)]),_:1})):x("",!0)])]),_:1}),a(s(p),{value:"info"},{default:n(()=>[l("div",he,[a(s(C),{class:"h-4 w-4 text-blue-600"}),e[10]||(e[10]=l("span",{class:"hidden sm:inline"},"Info",-1))])]),_:1}),a(s(p),{value:"success"},{default:n(()=>[l("div",be,[a(s($),{class:"h-4 w-4 text-green-600"}),e[11]||(e[11]=l("span",{class:"hidden sm:inline"},"Success",-1))])]),_:1}),a(s(p),{value:"warning"},{default:n(()=>[l("div",ye,[a(s(V),{class:"h-4 w-4 text-amber-600"}),e[12]||(e[12]=l("span",{class:"hidden sm:inline"},"Warning",-1))])]),_:1})]),_:1}),a(s(E),null,{default:n(()=>[a(s(G),{class:"pb-3"},{default:n(()=>[a(s(J),null,{default:n(()=>[_(i(A.value),1)]),_:1}),a(s(K),null,{default:n(()=>[_(i(S.value),1)]),_:1})]),_:1}),a(s(P),null,{default:n(()=>[l("div",ke,[v.value.length===0?(d(),f("div",Ce," No notifications found ")):(d(!0),f(ae,{key:1},le(v.value,t=>(d(),f("div",{key:t.id,class:N(["flex gap-4 p-4 rounded-lg transition-colors",{"bg-muted":!t.read}]),onClick:Ue=>R(t.id)},[l("div",Ve,[(d(),k(ne(T(t.type)),{class:N(["h-5 w-5",{"text-green-600":t.type==="success","text-blue-600":t.type==="info","text-amber-600":t.type==="warning","text-red-600":t.type==="error"}])},null,8,["class"]))]),l("div",Ne,[l("div",Te,[l("h3",Ae,i(t.title),1),l("span",Se,i(I(t.timestamp)),1)]),l("p",Fe,i(t.message),1),l("div",Ie,i(F(t.timestamp)),1)])],10,$e))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),Oe=ie(Re,[["__scopeId","data-v-956e0335"]]);export{Oe as default};
