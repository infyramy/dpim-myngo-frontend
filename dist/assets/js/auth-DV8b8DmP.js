import{b as B,r as _,o as H,m as U,e as y,f as t,g as l,w as o,u as s,h as i,p as T,q as J,l as v,a as S,c as I,j as C,t as P,F as K,k as Y,s as me,n as ce,i as pe,v as fe,x as ve}from"./vendor-D6Gd-AmM.js";import{u as Q,a as W}from"./admin-DxRhEtpx.js";import{a as ae,c as L,k as b,p as V,_ as $,e as R,m as oe,n as re,o as ie,s as G,l as ne,t as ye,u as ue,v as ge,w as _e}from"./ui-C-FEV6Jq.js";const be=(M,g)=>{const x=M.__vccOpts||M;for(const[f,u]of g)x[f]=u;return x},xe={key:0,class:"flex items-center justify-center py-12"},he={key:1,class:"space-y-6"},ke={class:"space-y-2"},we={key:0,class:"flex items-center justify-center"},Ve={key:1},Se={class:"text-center pt-4"},Pe={class:"text-sm text-muted-foreground"},Ne=B({__name:"login",setup(M){const g=U(),x=Q(),f=_(""),u=_(!1),a=_(!0);H(async()=>{try{if(x.isAuthenticated){m();return}a.value=!1,console.log("ðŸ”µ LOGIN: isLoading set to false")}catch(c){console.error("ðŸ”´ LOGIN: Error during initialization:",c),a.value=!1}});function m(){var p;const c=(p=x.user)==null?void 0:p.user_type;switch(c){case"superadmin":g.replace("/superadmin/dashboard");break;case"admin":g.replace("/admin/dashboard");break;case"operator":g.replace("/operator/dashboard");break;case"user":g.replace("/user/dashboard");break;default:console.warn("Unknown user role:",c),x.logoutUser(),g.replace("/login");break}}async function w(){if(!f.value){S.error("Please enter your email address");return}try{u.value=!0,await W().post("/auth/send-otp",{email:f.value}),setTimeout(()=>{S.success("Verification code sent to your email"),g.push(`/verify-otp?email=${f.value}`)},1e3)}catch(c){console.error("Login error:",c),S.error(c.data.message||"Failed to send verification code"),u.value=!1}}return(c,p)=>{const N=J("router-link");return a.value?(v(),y("div",xe,p[1]||(p[1]=[t("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"},null,-1)]))):(v(),y("div",he,[p[7]||(p[7]=t("div",{class:"text-center space-y-2"},[t("h1",{class:"text-3xl font-bold tracking-tight"},"Welcome Back"),t("p",{class:"text-sm text-muted-foreground"}," Enter your email below to receive a verification code ")],-1)),l(s(R),null,{default:o(()=>[l(s(ae),{class:"space-y-1 pb-4"},{default:o(()=>p[2]||(p[2]=[t("h2",{class:"text-xl font-semibold text-center"}," Sign in to your account ",-1)])),_:1,__:[2]}),l(s(L),{class:"space-y-4"},{default:o(()=>[t("form",{onSubmit:T(w,["prevent"]),class:"space-y-4"},[t("div",ke,[l(s(b),{for:"email",class:"text-sm font-medium"},{default:o(()=>p[3]||(p[3]=[i("Email Address")])),_:1,__:[3]}),l(s(V),{id:"email",modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=j=>f.value=j),type:"email",placeholder:"Enter your email",class:"h-11",required:"",disabled:u.value},null,8,["modelValue","disabled"])]),l(s($),{type:"submit",class:"w-full h-11 font-medium",disabled:u.value},{default:o(()=>[u.value?(v(),y("span",we,p[4]||(p[4]=[t("svg",{class:"animate-spin mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i(" Sending... ")]))):(v(),y("span",Ve,"Send Verification Code"))]),_:1},8,["disabled"])],32),t("div",Se,[t("p",Pe,[p[6]||(p[6]=i(" Don't have an account? ")),l(N,{to:"/register",class:"font-medium text-primary hover:text-primary/90 underline underline-offset-4"},{default:o(()=>p[5]||(p[5]=[i(" Create an account ")])),_:1,__:[5]})])])]),_:1})]),_:1})]))}}}),zt=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),$e={class:"min-h-screen flex items-center justify-center p-4"},Me={class:"space-y-8 max-w-2xl w-full"},Ce={class:"text-center space-y-3"},je={class:"text-muted-foreground"},qe={key:0,class:"space-y-6"},Ae={class:"space-y-4"},Be={class:"grid grid-cols-3 md:grid-cols-4 gap-3"},Ue=["onClick"],Oe={class:"aspect-rectangle mb-2"},ze=["src","alt"],Te={class:"text-xs text-center truncate"},Le={key:0,class:"text-center text-sm text-muted-foreground"},Re={class:"flex justify-end"},Ee={key:1,class:"space-y-6"},Fe={class:"space-y-4"},De={class:"space-y-2"},Ie={key:0,class:"text-sm text-red-500"},Ke={class:"space-y-2"},Ye={class:"space-y-2"},We={key:0,class:"text-sm text-red-500"},Ge={class:"grid grid-cols-2 gap-4"},He={class:"space-y-2"},Je={class:"relative"},Qe={key:0,class:"text-sm text-red-500"},Xe={class:"space-y-2"},Ze={class:"space-y-2"},et={class:"space-y-2"},tt={class:"grid grid-cols-2 gap-4"},lt={class:"space-y-2"},st={class:"space-y-2"},at={class:"pt-4"},ot={class:"space-y-4 pt-4"},rt={class:"space-y-2"},it={class:"space-y-2"},nt={class:"relative"},ut={class:"space-y-2"},dt={class:"flex gap-2"},mt={key:0,class:"flex flex-wrap gap-2"},ct={class:"flex justify-between"},pt={class:"text-center text-sm text-muted-foreground"},ft=2,vt=B({__name:"register",setup(M){const g=_([]),x=U(),f=_(1),u=_(""),a=_({email:"",mykadNumber:"",fullName:"",mobilePhone:"",gender:"",spouseName:"",dateOfBirth:"",relationshipWithSpouse:"",residentialAddress:"",spouseMobilePhone:"",address1:"",address2:"",postcode:"",city:"",socialMedia:[]}),m=_(""),w=_(!1),c=_({}),p=I(()=>u.value!==""),N=I(()=>{const e=["email","mykadNumber","fullName","mobilePhone","gender","residentialAddress","postcode","city"].every(se=>a.value[se]!=="")&&a.value.dateOfBirth!==""&&u.value!=="",k=ee(a.value.email),r=Z(a.value.mykadNumber),A=te(a.value.mobilePhone);return e&&k&&r&&A});function j(){f.value===1&&p.value&&(f.value=2,scrollTo({top:0,behavior:"smooth"}))}function E(){f.value>1&&(f.value=f.value-1,scrollTo({top:0,behavior:"smooth"}))}function O(n){u.value=n}function z(){m.value.trim()&&!a.value.socialMedia.includes(m.value.trim())&&(a.value.socialMedia.push(m.value.trim()),m.value="")}function F(n){a.value.socialMedia.splice(n,1)}function q(n){const e=n.target,k=h(e.value);a.value.mykadNumber=k}async function d(){if(!N.value){S.error("Please fill in all required fields correctly");return}try{w.value=!0;const n={state:u.value,...a.value,mykadNumber:X(a.value.mykadNumber),mobilePhone:le(a.value.mobilePhone),spouseMobilePhone:a.value.spouseMobilePhone?le(a.value.spouseMobilePhone):""};await W().post("/auth/register",n),setTimeout(()=>{S.success("Registration successful!"),x.push("/register-success")},1500)}catch(n){console.error("Registration error:",n),S.error(n.data.message||"Registration failed. Please try again.")}finally{w.value=!1}}function h(n){const k=n.replace(/\D/g,"").substring(0,12);let r=k;return k.length>6&&(r=k.substring(0,6)+"-"+k.substring(6)),k.length>8&&(r=k.substring(0,6)+"-"+k.substring(6,8)+"-"+k.substring(8)),r}function X(n){return n.replace(/-/g,"")}function Z(n){const e=X(n);return/^\d{12}$/.test(e)}function ee(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}function te(n){const e=n.replace(/[\s-]/g,"");return/^(01[0-9]|1[0-9])[0-9]{7,8}$/.test(e)}function le(n){let e=n.replace(/[\s-]/g,"");return e.startsWith("0")&&(e=e.substring(1)),`+60${e}`}function D(n,e){switch(c.value[n]="",n){case"email":e?ee(e)||(c.value[n]="Please enter a valid email address"):c.value[n]="Email is required";break;case"mykadNumber":e?Z(e)||(c.value[n]="Please enter a valid MyKad number (12 digits)"):c.value[n]="MyKad number is required";break;case"mobilePhone":e?te(e)||(c.value[n]="Please enter a valid Malaysian phone number (e.g., 012-3456789 or 12-3456789)"):c.value[n]="Mobile phone is required";break;default:e||(c.value[n]="This field is required")}}async function de(){try{const n=await W().get("/states");console.log(n.data.states),g.value=n.data.states}catch(n){console.error("States error:",n)}}return H(async()=>{await de()}),(n,e)=>{const k=J("router-link");return v(),y("div",$e,[t("div",Me,[t("div",Ce,[e[15]||(e[15]=t("div",{class:"flex items-center justify-center gap-2 mt-4"},[t("img",{src:"https://www.dpim.org.my/wp-content/uploads/2024/02/Logo-DPIM.png",alt:"logo",class:"h-20 w-auto bg-foreground rounded-lg"})],-1)),e[16]||(e[16]=t("h1",{class:"text-2xl font-semibold"},"Create Account",-1)),t("p",je," Step "+P(f.value)+" of "+P(ft),1)]),f.value===1?(v(),y("div",qe,[t("div",Ae,[e[17]||(e[17]=t("h2",{class:"text-lg font-medium text-center"},"Select Your State",-1)),t("div",Be,[(v(!0),y(K,null,Y(g.value,r=>(v(),y("div",{key:r.code,class:"cursor-pointer",onClick:A=>O(r.code)},[t("div",{class:ce(["border rounded-lg p-2 transition-all hover:border-primary",u.value===r.title?"border-primary bg-primary/5":"border-border"])},[t("div",Oe,[t("img",{src:r.flag,alt:`${r.title} flag`,class:"w-full h-full object-cover rounded"},null,8,ze)]),t("p",Te,P(r.title),1)],2)],8,Ue))),128))]),u.value?(v(),y("div",Le," Selected: "+P(u.value),1)):C("",!0)]),t("div",Re,[l(s($),{onClick:j,disabled:!p.value},{default:o(()=>e[18]||(e[18]=[i(" Continue ")])),_:1,__:[18]},8,["disabled"])])])):C("",!0),f.value===2?(v(),y("div",Ee,[t("div",Fe,[e[37]||(e[37]=t("h2",{class:"text-lg font-medium text-center"},"Your Details",-1)),t("form",{onSubmit:T(d,["prevent"]),class:"space-y-4"},[t("div",De,[l(s(b),{for:"email"},{default:o(()=>e[19]||(e[19]=[i("Email")])),_:1,__:[19]}),l(s(V),{id:"email",type:"email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.email=r),placeholder:"your@email.com",required:"",onBlur:e[1]||(e[1]=r=>D("email",a.value.email))},null,8,["modelValue"]),c.value.email?(v(),y("p",Ie,P(c.value.email),1)):C("",!0)]),t("div",Ke,[l(s(b),{for:"fullName"},{default:o(()=>e[20]||(e[20]=[i("Full Name")])),_:1,__:[20]}),l(s(V),{id:"fullName",modelValue:a.value.fullName,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.fullName=r),placeholder:"Your full name",required:""},null,8,["modelValue"])]),t("div",Ye,[l(s(b),{for:"mykadNumber"},{default:o(()=>e[21]||(e[21]=[i("MyKad Number")])),_:1,__:[21]}),l(s(V),{id:"mykadNumber",modelValue:a.value.mykadNumber,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.mykadNumber=r),placeholder:"Enter 12 digits (e.g., 991231081234)",required:"",onInput:q,onBlur:e[4]||(e[4]=r=>D("mykadNumber",a.value.mykadNumber)),maxlength:"14"},null,8,["modelValue"]),c.value.mykadNumber?(v(),y("p",We,P(c.value.mykadNumber),1)):C("",!0)]),t("div",Ge,[t("div",He,[l(s(b),{for:"mobilePhone"},{default:o(()=>e[22]||(e[22]=[i("Mobile Phone")])),_:1,__:[22]}),t("div",Je,[e[23]||(e[23]=t("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}," +60 ",-1)),l(s(V),{id:"mobilePhone",type:"tel",modelValue:a.value.mobilePhone,"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.mobilePhone=r),placeholder:"12-3456789 or 012-3456789",class:"pl-12",required:"",onBlur:e[6]||(e[6]=r=>D("mobilePhone",a.value.mobilePhone))},null,8,["modelValue"])]),c.value.mobilePhone?(v(),y("p",Qe,P(c.value.mobilePhone),1)):C("",!0)]),t("div",Xe,[l(s(b),{for:"gender"},{default:o(()=>e[24]||(e[24]=[i("Gender")])),_:1,__:[24]}),l(s(ne),{modelValue:a.value.gender,"onUpdate:modelValue":e[7]||(e[7]=r=>a.value.gender=r),required:""},{default:o(()=>[l(s(oe),null,{default:o(()=>[l(s(re),{placeholder:"Select"})]),_:1}),l(s(ie),null,{default:o(()=>[l(s(G),{value:"male"},{default:o(()=>e[25]||(e[25]=[i("Male")])),_:1,__:[25]}),l(s(G),{value:"female"},{default:o(()=>e[26]||(e[26]=[i("Female")])),_:1,__:[26]})]),_:1})]),_:1},8,["modelValue"])])]),t("div",Ze,[l(s(b),{for:"dateOfBirth"},{default:o(()=>e[27]||(e[27]=[i("Date of Birth")])),_:1,__:[27]}),l(s(ye),{modelValue:a.value.dateOfBirth,"onUpdate:modelValue":e[8]||(e[8]=r=>a.value.dateOfBirth=r),placeholder:"Select your birth date"},null,8,["modelValue"])]),t("div",et,[l(s(b),{for:"residentialAddress"},{default:o(()=>e[28]||(e[28]=[i("Address")])),_:1,__:[28]}),l(s(ue),{id:"residentialAddress",modelValue:a.value.residentialAddress,"onUpdate:modelValue":e[9]||(e[9]=r=>a.value.residentialAddress=r),placeholder:"Your address",required:"",rows:"2"},null,8,["modelValue"])]),t("div",tt,[t("div",lt,[l(s(b),{for:"postcode"},{default:o(()=>e[29]||(e[29]=[i("Postcode")])),_:1,__:[29]}),l(s(V),{id:"postcode",modelValue:a.value.postcode,"onUpdate:modelValue":e[10]||(e[10]=r=>a.value.postcode=r),placeholder:"12345",required:""},null,8,["modelValue"])]),t("div",st,[l(s(b),{for:"city"},{default:o(()=>e[30]||(e[30]=[i("City")])),_:1,__:[30]}),l(s(V),{id:"city",modelValue:a.value.city,"onUpdate:modelValue":e[11]||(e[11]=r=>a.value.city=r),placeholder:"Your city",required:""},null,8,["modelValue"])])]),t("details",at,[e[36]||(e[36]=t("summary",{class:"cursor-pointer text-sm text-muted-foreground hover:text-foreground"}," Optional Information ",-1)),t("div",ot,[t("div",rt,[l(s(b),{for:"spouseName"},{default:o(()=>e[31]||(e[31]=[i("Next of Kin Name")])),_:1,__:[31]}),l(s(V),{id:"spouseName",modelValue:a.value.spouseName,"onUpdate:modelValue":e[12]||(e[12]=r=>a.value.spouseName=r),placeholder:"Name"},null,8,["modelValue"])]),t("div",it,[l(s(b),{for:"spouseMobilePhone"},{default:o(()=>e[32]||(e[32]=[i("Next of Kin Phone")])),_:1,__:[32]}),t("div",nt,[e[33]||(e[33]=t("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}," +60 ",-1)),l(s(V),{id:"spouseMobilePhone",type:"tel",modelValue:a.value.spouseMobilePhone,"onUpdate:modelValue":e[13]||(e[13]=r=>a.value.spouseMobilePhone=r),placeholder:"12-3456789 or 012-3456789",class:"pl-12"},null,8,["modelValue"])])]),t("div",ut,[l(s(b),{for:"newSocialMedia"},{default:o(()=>e[34]||(e[34]=[i("Social Media")])),_:1,__:[34]}),t("div",dt,[l(s(V),{id:"newSocialMedia",modelValue:m.value,"onUpdate:modelValue":e[14]||(e[14]=r=>m.value=r),type:"url",placeholder:"https://...",onKeyup:me(z,["enter"])},null,8,["modelValue"]),l(s($),{type:"button",onClick:z,variant:"outline",size:"sm",disabled:!m.value.trim()},{default:o(()=>e[35]||(e[35]=[i(" Add ")])),_:1,__:[35]},8,["disabled"])]),a.value.socialMedia.length>0?(v(),y("div",mt,[(v(!0),y(K,null,Y(a.value.socialMedia,(r,A)=>(v(),pe(s(ge),{key:A,variant:"secondary",class:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:se=>F(A)},{default:o(()=>[i(P(r.length>25?r.substring(0,25)+"...":r)+" Ã— ",1)]),_:2},1032,["onClick"]))),128))])):C("",!0)])])])],32)]),t("div",ct,[l(s($),{variant:"outline",onClick:E},{default:o(()=>e[38]||(e[38]=[i(" Back ")])),_:1,__:[38]}),l(s($),{onClick:d,disabled:w.value},{default:o(()=>[i(P(w.value?"Creating...":"Create Account"),1)]),_:1},8,["disabled"])])])):C("",!0),t("div",pt,[e[40]||(e[40]=t("span",null,"Already have an account? ",-1)),l(k,{to:"/login",class:"text-primary hover:underline"},{default:o(()=>e[39]||(e[39]=[i(" Sign in ")])),_:1,__:[39]})])])])}}}),yt=be(vt,[["__scopeId","data-v-e0bb9c3d"]]),Tt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"})),gt={key:0,class:"flex items-center justify-center h-full"},_t={key:1},bt={class:"space-y-2"},xt={class:"space-y-2"},ht={class:"space-y-2"},kt={class:"space-y-2"},wt={class:"space-y-2"},Vt={key:0},St={key:1},Pt=B({__name:"register-form",setup(M){const g=U(),x=fe(),f=Q(),u=_(x.query.email||""),a=_(x.query.otp||""),m=_(""),w=_(""),c=_(""),p=_(""),N=_(!1),j=_(!0),E=["Johor","Kedah","Kelantan","Melaka","Negeri Sembilan","Pahang","Perak","Perlis","Pulau Pinang","Sabah","Sarawak","Selangor","Terengganu","Wilayah Persekutuan Kuala Lumpur","Wilayah Persekutuan Labuan","Wilayah Persekutuan Putrajaya"],O=I(()=>m.value.trim()!==""&&w.value.trim()!==""&&w.value.length>=12&&c.value.trim()!==""&&p.value!=="");H(()=>{setTimeout(()=>{f.isAuthenticated&&(console.log("User already authenticated, redirecting to appropriate dashboard"),z()),(!u.value||!a.value)&&(g.replace("/login"),S.error("Please complete the verification process first")),j.value=!1},300)});function z(){var d;switch((d=f.user)==null?void 0:d.user_type){case"superadmin":g.replace("/superadmin/home");break;case"admin":g.replace("/admin/home");break;case"manager":g.replace("/manager/home");break;case"user":g.replace("/user/home");break}}async function F(){if(!O.value){S.error("Please fill in all required fields");return}try{N.value=!0,console.log("Registration form submitted:",{email:u.value,fullName:m.value,icNumber:w.value,address:c.value,state:p.value}),g.push("/register/success")}catch(q){console.error("Registration error:",q),S.error(q.message||"Registration failed")}finally{N.value=!1}}return(q,d)=>j.value?(v(),y("div",gt,d[5]||(d[5]=[t("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"},null,-1)]))):(v(),y("div",_t,[d[12]||(d[12]=t("div",{class:"flex flex-col space-y-2 text-center"},[t("h1",{class:"text-2xl font-semibold tracking-tight"}," Complete Your Registration "),t("p",{class:"text-sm text-muted-foreground"}," Please provide the following information to join DPIM ")],-1)),l(s(R),null,{default:o(()=>[l(s(L),{class:"pt-4"},{default:o(()=>[t("form",{onSubmit:T(F,["prevent"]),class:"space-y-4"},[t("div",bt,[l(s(b),{for:"email"},{default:o(()=>d[6]||(d[6]=[i("Email")])),_:1,__:[6]}),l(s(V),{id:"email",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=h=>u.value=h),type:"email",disabled:"",readonly:""},null,8,["modelValue"])]),t("div",xt,[l(s(b),{for:"fullName"},{default:o(()=>d[7]||(d[7]=[i("Full Name")])),_:1,__:[7]}),l(s(V),{id:"fullName",modelValue:m.value,"onUpdate:modelValue":d[1]||(d[1]=h=>m.value=h),type:"text",placeholder:"Enter your full name",required:""},null,8,["modelValue"])]),t("div",ht,[l(s(b),{for:"icNumber"},{default:o(()=>d[8]||(d[8]=[i("IC Number")])),_:1,__:[8]}),l(s(V),{id:"icNumber",modelValue:w.value,"onUpdate:modelValue":d[2]||(d[2]=h=>w.value=h),type:"text",placeholder:"e.g. 880101011234",required:""},null,8,["modelValue"])]),t("div",kt,[l(s(b),{for:"address"},{default:o(()=>d[9]||(d[9]=[i("Address")])),_:1,__:[9]}),l(s(ue),{id:"address",modelValue:c.value,"onUpdate:modelValue":d[3]||(d[3]=h=>c.value=h),placeholder:"Enter your full address",required:"",rows:"3"},null,8,["modelValue"])]),t("div",wt,[l(s(b),{for:"state"},{default:o(()=>d[10]||(d[10]=[i("State")])),_:1,__:[10]}),l(s(ne),{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=h=>p.value=h)},{default:o(()=>[l(s(oe),null,{default:o(()=>[l(s(re),{placeholder:"Select state to join"})]),_:1}),l(s(ie),null,{default:o(()=>[l(s(_e),null,{default:o(()=>[(v(),y(K,null,Y(E,h=>l(s(G),{key:h,value:h},{default:o(()=>[i(P(h),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l(s($),{type:"submit",class:"w-full",disabled:N.value||!O.value},{default:o(()=>[N.value?(v(),y("span",Vt,d[11]||(d[11]=[t("svg",{class:"animate-spin mr-2 h-4 w-4 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i(" Registering... ")]))):(v(),y("span",St,"Submit Application"))]),_:1},8,["disabled"])],32)]),_:1})]),_:1})]))}}),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"})),Nt={class:"space-y-6"},$t=B({__name:"register-success",setup(M){const g=U();function x(){g.push("/login")}return(f,u)=>(v(),y("div",Nt,[u[3]||(u[3]=ve('<div class="text-center space-y-2"><div class="flex justify-center mb-4"><div class="w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div></div><h1 class="text-3xl font-bold tracking-tight"> Registration Successful! </h1><p class="text-sm text-muted-foreground"> Your application has been submitted and is pending approval </p></div>',1)),l(s(R),null,{default:o(()=>[l(s(ae),{class:"space-y-1 pb-4"},{default:o(()=>u[0]||(u[0]=[t("h2",{class:"text-xl font-semibold text-center"}," What happens next? ",-1)])),_:1,__:[0]}),l(s(L),{class:"space-y-4"},{default:o(()=>[u[2]||(u[2]=t("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-200 dark:border-blue-800"},[t("ul",{class:"space-y-3 text-sm text-blue-800 dark:text-blue-200"},[t("li",{class:"flex items-start"},[t("svg",{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),i(" Your application will be reviewed by the state administrator ")]),t("li",{class:"flex items-start"},[t("svg",{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),i(" You'll receive an email notification once it's approved ")]),t("li",{class:"flex items-start"},[t("svg",{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),i(" After approval, you'll gain full access to all member features ")]),t("li",{class:"flex items-start"},[t("svg",{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),i(" The approval process typically takes 1-2 business days ")])])],-1)),l(s($),{onClick:x,class:"w-full h-11 font-medium"},{default:o(()=>u[1]||(u[1]=[i(" Return to Login ")])),_:1,__:[1]})]),_:1,__:[2]})]),_:1}),u[4]||(u[4]=t("div",{class:"text-center pt-4"},[t("p",{class:"text-xs text-muted-foreground"}," You can check your application status by logging in with your email ")],-1))]))}}),Rt=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),Mt={class:"space-y-2"},Ct={key:0},jt={key:1},qt={class:"text-center text-sm text-muted-foreground mt-6"},At=B({__name:"forgot-password",setup(M){const g=U();Q();const x=_(""),f=_(!1);async function u(){var a;if(!x.value){S.error("Please enter your email address");return}try{f.value=!0,S.success("Password reset instructions have been sent to your email"),g.push("/login")}catch(m){console.log("error: ",m),S.error(((a=m.data)==null?void 0:a.message)||"Something went wrong. Please try again.")}finally{f.value=!1}}return(a,m)=>{const w=J("router-link");return v(),y("div",null,[m[5]||(m[5]=t("div",{class:"flex flex-col space-y-2 text-center"},[t("h1",{class:"text-2xl font-semibold tracking-tight"}," Forgot Password "),t("p",{class:"text-sm text-muted-foreground"}," Enter your email address and we'll send you instructions to reset your password ")],-1)),l(s(R),null,{default:o(()=>[l(s(L),{class:"pt-4"},{default:o(()=>[t("form",{onSubmit:T(u,["prevent"]),class:"space-y-4"},[t("div",Mt,[l(s(b),{for:"email"},{default:o(()=>m[1]||(m[1]=[i("Email")])),_:1,__:[1]}),l(s(V),{id:"email",type:"email",modelValue:x.value,"onUpdate:modelValue":m[0]||(m[0]=c=>x.value=c),placeholder:"name@example.com",required:""},null,8,["modelValue"])]),l(s($),{type:"submit",class:"w-full",disabled:f.value},{default:o(()=>[f.value?(v(),y("span",Ct,m[2]||(m[2]=[t("svg",{class:"animate-spin mr-2 h-4 w-4 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i(" Sending... ")]))):(v(),y("span",jt,"Send Reset Instructions"))]),_:1},8,["disabled"])],32)]),_:1})]),_:1}),t("p",qt,[m[4]||(m[4]=i(" Remember your password? ")),l(w,{to:"/login",class:"text-primary underline underline-offset-4 hover:text-primary/90"},{default:o(()=>m[3]||(m[3]=[i(" Sign in ")])),_:1,__:[3]})])])}}}),Et=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"}));export{be as _,Lt as a,Rt as b,Et as f,zt as l,Tt as r};
